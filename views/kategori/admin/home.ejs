<%- include('../../partials/_head.ejs') %>
<body>
  <%- include('../../partials/_navbar.ejs') %>
  <div class="container mt-3">
    <% if (messages.success) { %>
      <div class="alert alert-info" role="alert"><%- messages.success %></div>
    <% } %>
    <div class="row">
      <div class="col">
        <div class="table-container">
          <table class="table table-striped table-hover">
            <thead class="thead-dark sticky-header">
              <tr>
                <th scope="col">No</th>
                <th scope="col">Nama Kategori</th>
                <th colspan="2" scope="col">Aksi</th>
              </tr>
            </thead>
            <tbody>
              <% for(var i = 0; i < data.length; i++){ %>
                <tr>
                  <th scope="row"><%= (i+1) %></th>
                  <td><%= data[i].nama_kategori %></td>
                  <td>
                    <a href="/kategori/admin/detail/<%= data[i].id_kategori %>" class="btn btn-sm btn-warning">
                      <i class="fas fa-eye"></i> Detail
                    </a>
                  </td>
                </tr>
              <% } %>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
  <%- include('../../partials/_foot.ejs') %>

  <!-- Inline CSS -->
  <style>
    .table-container {
      max-height: 600px;
      overflow: auto; /* Allows scrolling but hides scrollbar */
    }

    .table-container::-webkit-scrollbar {
      display: none; /* Hides scrollbar for WebKit browsers (Chrome, Safari) */
    }

    .sticky-header th {
      position: -webkit-sticky; /* For Safari */
      position: sticky;
      top: 0;
      background-color: #343a40; /* Same color as thead-dark */
      color: white;
      z-index: 10; /* Ensures the header is above other content */
    }
  </style>
